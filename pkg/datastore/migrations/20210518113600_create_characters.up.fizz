create_table("characters") {
    t.Column("id","string",{primary: true})

    t.Column("profile_ref","string",{})
    t.Column("character_id","integer",{})
    t.Column("character_name","string",{})
    t.Column("owner","string",{})
    t.Column("character_data","json",{"null": true})
    t.Column("refresh_token","string",{})
    t.Column("scopes","jsonb",{})

    t.Column("active","bool",{})

    t.Column("created_at","timestamp",{})
    t.Column("updated_at","timestamp",{})
}

add_index("characters",["profile_ref","character_id","character_name","owner","scopes"],{"unique": true})

add_index("characters","character_id")
add_index("characters","character_name")
add_index("characters","owner")
add_index("characters","scopes")

add_foreign_key("characters", "profile_ref", {"profiles": ["id"]}, {
    "name": "character_profile_fk",
    "on_delete": "CASCADE",
    "on_update": "CASCADE",
})
